<!DOCTYPE html>

<html lang="en">

  <head>
    <title>jsonschema2pojo</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="description" content="Generate Plain Old Java Objects from JSON or JSON-Schema.">
    <meta name="keywords" content="json, jsonschema, pojo, java, javascript, jsonschema2java, jsonschema2pojo, jsonschema2dto, code generation, dto">
    <link href="lib/bootstrap.min.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/js/bootstrap.min.js"></script>
    <script src="lib/codemirror-compressed.js"></script>
    <link rel="stylesheet" href="lib/codemirror.css">
    <link rel="stylesheet" href="lib/codemirror-neat.css">

    <script type="text/javascript">
      $(document).ready(function() {

        var schemaTextArea = document.getElementById("schema");
        var myCodeMirror = CodeMirror.fromTextArea(schemaTextArea, {
          theme: "neat",
          mode: "javascript",
          lineNumbers: true,
          matchBrackets: true,
          json: true
        });

        $("#form").submit(function(e) {
          e.preventDefault();

          $("#downloadButton").addClass("hide");
          $("#progressBar").removeClass("hide");

          $.ajax({
            url: "generator/java-source.zip",
            type: "POST",
            data: $(this).serialize(),
            success: function(data) {
              $("#downloadButton").attr("href", "data:application/zip;base64," + data);
              $("#downloadButton").attr("download", $("#classname").val() + ".zip");
              $("#downloadButton").removeClass("hide");
              $("#progressBar").addClass("hide");
            },
            error: function(xhr) {
              $("#progressBar").addClass("hide");
              alert(xhr.responseText);
            }
          });
        })
      });
    </script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-21062073-2']);
      _gaq.push(['_setDomainName', 'jsonschema2pojo.herokuapp.com']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
      })();
    </script>

    <style>
      .CodeMirror-scroll {
        height: 24em;
      }
      .CodeMirror {
        border: 1px solid #aaa
      }
    </style>
  </head>

  <body>
    <div class="container">

      <h1>jsonschema2pojo</h1>
      <p class="lead">
        Generate Plain Old Java Objects from JSON or JSON-Schema.
      </p>

      <form action="generator/java-source.zip" method="post" id="form">
        <div class="row">
          <div class="span6" style="margin-right:1em;">
            <textarea id="schema" name="schema" style="width: 100%; height: 100%"></textarea>
          </div>
          <div class="span4">
            <label>
              Package
              <input name="targetpackage" value="com.example">
            </label>
            <label>
              Class name
              <input id="classname" name="classname" value="Example">
            </label>
            <label style="margin-top: 1em;">
              Source type:<br>
              <label class="radio inline">
                <input type="radio" name="sourcetype"
                       id="sourceType1" value="jsonschema" checked>
                JSON Schema
              </label>
              <label class="radio inline">
                <input type="radio" name="sourcetype"
                       id="sourceType2" value="json">
                JSON
              </label>
            </label>
            <label style="margin-top: 1em;">
              Annotation style:<br>
              <label class="radio inline">
                <input type="radio" name="annotationstyle"
                       id="annotationStyle1" value="jackson2" checked>
                Jackson 2.x
              </label>
              <label class="radio inline">
                <input type="radio" name="annotationstyle"
                       id="annotationStyle2" value="jackson1">
                Jackson 1.x
              </label>
              <label class="radio inline">
                <input type="radio" name="annotationstyle"
                       id="annotationStyle3" value="none">
                None
              </label>
            </label>
            <label style="margin-top: 1em;" class="checkbox">
              <input name="generatebuilders" value="true" type="checkbox">Generate builders
            </label>
            <label class="checkbox">
              <input name="useprimitives" value="true" type="checkbox">Use primitives
            </label>
            <label class="checkbox">
              <input name="uselongintegers" value="true" type="checkbox">Use long integers
            </label>
            <label class="checkbox">
              <input name="includehashcodeandequals" value="true" type="checkbox" checked="checked">Include <code>hashCode</code> and <code>equals</code>
            </label>
            <label class="checkbox">
              <input name="includetostring" value="true" type="checkbox" checked="checked">Include <code>toString</code>
            </label>
            <label class="checkbox">
              <input name="includejsr303annotations" value="true" type="checkbox">Include JSR-303 annotations
            </label>
          </div>
        </div>

        <div class="row">
          <div class="span1" style="margin-right:2em;">
            <button type="submit" class="btn">Generate</button>
          </div>
          <div class="span3">
            <div id="progressBar" class="progress progress-striped active hide" style="margin-top: 0.3em;">
              <div class="bar" style="width: 100%;"></div>
            </div>
            <a id="downloadButton" download="src.zip" class="btn btn-success hide">Download</a>
          </div>
        </div>
      </form>

      <p class="muted">
        <small>
          Copyright Â© 2012 Joe Littlejohn
          <a href="https://www.gittip.com/joelittlejohn/" target="_blank">
            Gittip
          </a>
        </small>
      </p>
    </div>
  </body>

</html>
